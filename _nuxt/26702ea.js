(window.webpackJsonp=window.webpackJsonp||[]).push([[24,3,16],{314:function(e,t,r){"use strict";r.r(t);var n=r(12),component=Object(n.a)({},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{staticClass:"title text-xl font-bold mb-4"},[e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},334:function(e,t,r){"use strict";r.r(t);var n={props:{label:{type:String,required:!0,default:function(){return""}},expand:{type:Boolean,required:!1,default:!1},radio:{type:Boolean,required:!1,default:!1}},data:function(){return{active:!!this.expand&&this.expand}},watch:{expand:function(){this.animateAccordion()}},mounted:function(){this.animateAccordion()},methods:{animateAccordion:function(){var e=this.$refs["accordion-body"];this.expand?this.$gsap.to(e,.6,{height:e.scrollHeight,ease:"elastic.easeOut.config(1, 0.3)"}):this.$gsap.to(e,.4,{height:0,ease:"bounce.easeOut"})}}},d=r(12),component=Object(d.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"accordion",class:{"accordion-active":e.expand}},[r("div",{staticClass:"\n      accordion-header\n      h-16\n      flex\n      justify-between\n      items-center\n      border-b border-secondary-gray-100\n      px-4\n    ",on:{click:function(t){return e.$emit("click")}}},[r("label",{staticClass:"title text-secondary-gray-800 flex items-center gap-4"},[r("v-radio",{directives:[{name:"show",rawName:"v-show",value:e.radio,expression:"radio"}],attrs:{checked:e.expand}}),e._v(" "),r("span",[e._v(e._s(e.label))])],1),e._v(" "),e._m(0)]),e._v(" "),r("div",{ref:"accordion-body",staticClass:"accordion-body overflow-hidden bg-secondary-gray-100"},[r("div",{staticClass:"accordion-content px-4 py-4"},[e._t("default")],2)])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"indicator"},[t("div",{staticClass:"accordion-caret"})])}],!1,null,null,null);t.default=component.exports},360:function(e,t,r){"use strict";r.r(t);r(21),r(14),r(18),r(29),r(19),r(30);var n=r(7),d=(r(49),r(56),r(92),r(31));function o(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function c(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?o(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):o(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var l={data:function(){return{pageTitle:"購買確認",terms:"Vue 是一個新穎的 Javascript 框架，它提供了很多有用的功能來達到漸進增強（ progressive enhancement ）的策略。與其他的框架不同的是，你可以把 Vue 和既有的 HTML 做整合，這讓你可以像使用插入性替換的函式庫一樣來使用 Vue ，就像使用 JQuery 一樣。\n除此之外，你也可以使用 Vue 來寫一個單頁式應用程式。這讓你可以完全使用 Vue 來建構網頁，當處理較複雜的應用時有較好的開發效率及體驗。 Vue 也有提供函式庫來做客戶端路由及狀態管理。 Vue 對客戶端路由及狀態管理這些工具採取中間立場的態度，雖然 Vue 的核心團隊推薦使用這些函式庫，但是這些函式庫沒有直接打包進 Vue，而是讓你可以自由選擇使用其他更適合你的應用的路由庫或狀態管理庫。\n除了可以漸進地把 Vue 整合到應用程式裡， Vue 也提供了漸進式的方法來撰寫網頁內容。就像大部分的框架， Vue 讓你創造可以重複使用的網頁內容區塊（稱為元件）。大部分時候， Vue 元件是用一種特殊的 HTML 樣板語法寫成的，然而在一些場景使用 HTML 語法會有限制時，你可以使用 JSX 或是 Javascript 函式來定義你的元件。",pxgroupMember:!1,editedData:{orderNumber:"",name:"",email:"",addressSelected:this.addressSelected?this.addressSelected:void 0,storeSelected:this.storeSelected?this.storeSelected:void 0,deliveryType:0,carrierType:1,naturalPersonCertificate:"",carrierCode:"",companyId:"",companyEmail:"",donationCode:"",termsConfirmed:!1},defaultStore:{}}},computed:c(c(c(c({},Object(d.d)("member",["memberProfile","signinState"])),Object(d.d)("groups",["productOrderCurrent"])),Object(d.d)("orders",["orderNumber"])),Object(d.d)("orders",["storeSelected","addressSelected"])),created:function(){this.validateMembership(),this.validateOrderExist()},mounted:function(){this.validateOrderCache(),this.$setNavbarNew(this.pageTitle)},methods:c(c(c(c(c({},Object(d.c)("groups",["setProductGroupCurrent"])),Object(d.c)("orders",["setOrderNumber"])),Object(d.b)("orders",["confirmOrder"])),Object(d.b)("member",["getMemberProfile"])),{},{validateMembership:function(){switch(!0){case!0===this.signinState:this.getMemberProfile();break;default:this.$router.replace({name:"groups-gid"})}},validateOrderExist:function(){var e=localStorage.getItem("pxec.groupbuying.order.cachedOrderNumber"),t=localStorage.getItem("pxec.groupbuying.product.current");if(null!==e&&null!==t){var r=JSON.parse(e).order_number;this.setOrderNumber(r),this.editedData.order_number=r,this.setProductGroupCurrent(JSON.parse(t))}else this.$router.push("/groups/"+this.$route.params.gid)},validateOrderCache:function(){var e=JSON.parse(localStorage.getItem("pxec.groupbuying.order.cachedOrder"));switch(!0){case null!=e:this.editedData=e}},validateForm:function(){return!0===this.editedData.termsConfirmed||(this.$refs.termApproval.focus(),!1)},toggleDeliveryType:function(e){this.editedData.deliveryType=e,this.saveCurrentState()},saveCurrentState:function(){this.editedData.storeSelected=this.storeSelected,this.editedData.addressSelected=this.addressSelected,localStorage.setItem("pxec.groupbuying.order.cachedOrder",JSON.stringify(this.editedData))},onFormChanged:function(){var e=this;setTimeout((function(){e.saveCurrentState()}),600)},onSubmitted:function(){this.editedData.addressSelected=this.addressSelected,this.$startPayment("tid132132132131")}})},v=r(12),component=Object(v.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("section",{staticClass:"px-4"},[r("v-card-flat",[r("div",{staticClass:"wrapper flex gap-4"},[r("div",{staticClass:"thumbnail w-30 relative flex-shrink-0"},[r("div",{staticClass:"img-container-square w-full pt-10/10 relative"},[r("img",{staticClass:"absolute w-full h-full object-cover top-0 left-0",attrs:{src:e.productOrderCurrent.pic_list[0]}})])]),e._v(" "),r("div",{staticClass:"content relative flex-grow"},[r("div",{staticClass:"title text-lg font-bold mb-2"},[e._v("\n            "+e._s(e.productOrderCurrent.product_name||"...")+"\n          ")]),e._v(" "),r("div",{staticClass:"\n              description\n              text-sm\n              line-clamp-2\n              max-h-10\n              h-auto\n              w-full\n              mb-4\n            "},[e._v("\n            "+e._s(e.productOrderCurrent.sales_focus)+"\n          ")]),e._v(" "),r("div",{staticClass:"price flex items-center gap-1"},[r("div",{staticClass:"new-price font-bold text-secondary-money-600"},[e._v("\n              NT$ "+e._s(e.productOrderCurrent.price)+"\n            ")])])])])])],1),e._v(" "),r("section",{staticClass:"bundle-condition my-6 px-4"},[r("section-title",[e._v("配送方式")]),e._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"head mb-4"},[r("div",{staticClass:"\n            wrapper\n            flex\n            justify-between\n            items-center\n            text-secondary-indigo-800\n          "},[r("div",{staticClass:"\n              custom-tabs\n              flex\n              rounded-md\n              overflow-hidden\n              border border-secondary-indigo-800\n            "},[r("v-button",{staticClass:"tab px-4 h-10",attrs:{variant:{transparent:1===e.editedData.deliveryType}},on:{click:function(t){return e.toggleDeliveryType(0)}}},[e._v("到店取貨")]),e._v(" "),r("v-button",{staticClass:"tab px-4 h-10",attrs:{variant:{transparent:1!==e.editedData.deliveryType}},on:{click:function(t){return e.toggleDeliveryType(1)}}},[e._v("宅配到府")])],1),e._v(" "),e._m(0)])]),e._v(" "),r("div",{staticClass:"body"},[0===e.editedData.deliveryType?r("div",{staticClass:"store-info flex gap-4 justify-between"},[void 0!==e.storeSelected.store_name?r("div",{staticClass:"info"},[r("div",{staticClass:"store-name font-bold"},[e._v("\n              "+e._s(e.storeSelected.store_name)+"\n            ")]),e._v(" "),r("div",{staticClass:"address text-sm text-secondary-gray-400 mb-4"},[e._v("\n              "+e._s(e.storeSelected.address)+"\n            ")]),e._v(" "),r("div",{staticClass:"recipient text-sm text-secondary-gray-400"},[r("span",{staticClass:"mr-2"},[e._v(e._s(e.storeSelected.receiver))]),e._v(" "),r("span",[e._v(e._s(e.storeSelected.cell_phone))])])]):void 0!==e.editedData.storeSelected?r("div",{staticClass:"info"},[r("div",{staticClass:"store-name font-bold"},[e._v("\n              "+e._s(e.editedData.storeSelected.store_name)+"\n            ")]),e._v(" "),r("div",{staticClass:"address text-sm text-secondary-gray-400 mb-4"},[e._v("\n              "+e._s(e.editedData.storeSelected.address)+"\n            ")]),e._v(" "),r("div",{staticClass:"recipient text-sm text-secondary-gray-400"},[r("span",{staticClass:"mr-2"},[e._v(e._s(e.editedData.storeSelected.receiver))]),e._v(" "),r("span",[e._v(e._s(e.editedData.storeSelected.cell_phone))])])]):r("div",{staticClass:"info"},[r("div",{staticClass:"store-name font-bold"},[e._v("\n              "+e._s(e.productOrderCurrent?e.productOrderCurrent.initiator_info.store_name:"")+"\n            ")]),e._v(" "),r("div",{staticClass:"recipient text-sm text-secondary-gray-400"},[r("span",{staticClass:"mr-2"},[e._v(e._s(void 0!==e.memberProfile?e.memberProfile.name:""))]),e._v(" "),r("span",[e._v(e._s(void 0!==e.memberProfile.phone&&null!==e.memberProfile.phone?e.memberProfile.phone:""))])])]),e._v(" "),r("div",{staticClass:"action flex-shrink-0"},[r("v-button",{staticClass:"h-10 pl-3 pr-4 gap-2 text-secondary-indigo-800",attrs:{variant:"float",to:e.$route.path+"/delivery/store"}},[r("i",{staticClass:"icon icon-refresh text-2xl"}),e._v("變更門市")])],1)]):r("div",{staticClass:"home-info flex gap-4 justify-between"},[void 0!==e.addressSelected.address||void 0!==e.editedData.addressSelected.address?r("div",{staticClass:"info"},[r("div",{staticClass:"address font-bold"},[e._v("\n              "+e._s(e.addressSelected.city?e.addressSelected.city+e.addressSelected.area+e.addressSelected.street:+e.editedData.addressSelected.city+e.editedData.addressSelected.area+e.editedData.addressSelected.street)+"\n            ")]),e._v(" "),r("div",{staticClass:"recipient text-sm text-secondary-gray-400"},[r("span",{staticClass:"mr-2"},[e._v(e._s(e.addressSelected.receiver||e.editedData.addressSelected.receiver))]),e._v(" "),r("span",[e._v(e._s(e.addressSelected.cell_phone||e.editedData.addressSelected.cell_phone))])])]):r("div",{staticClass:"info"},[e._v("您還沒有設定地址喔，點擊右側新增")]),e._v(" "),r("div",{staticClass:"action flex-shrink-0"},[void 0!==e.addressSelected.address||void 0!==e.editedData.addressSelected.address?r("v-button",{staticClass:"h-10 pl-3 pr-4 gap-2 text-secondary-indigo-800",attrs:{variant:"float",to:e.$route.fullPath+"/delivery/house/"}},[r("i",{staticClass:"icon icon-refresh text-2xl"}),e._v("變更地址")]):r("v-button",{staticClass:"h-10 pl-3 pr-4 gap-2 text-secondary-indigo-800",attrs:{variant:"float",to:e.$route.fullPath+"/delivery/house/form"}},[r("i",{staticClass:"icon icon-plus text-2xl"}),e._v("新增地址")])],1)])])])],1),e._v(" "),r("section",{staticClass:"contact-info px-4 my-6"},[r("section-title",[e._v("通知方式")]),e._v(" "),r("form",{staticClass:"content",on:{submit:function(e){e.preventDefault()},input:function(t){return e.onFormChanged()}}},[r("v-input-group",{attrs:{label:"Email"}},[r("v-input",{attrs:{placeholder:"abc@email.com",type:"email",required:"",description:"訂單資訊將使用Email通知您，並更新您的會員資料"},model:{value:e.editedData.email,callback:function(t){e.$set(e.editedData,"email",t)},expression:"editedData.email"}})],1)],1)],1),e._v(" "),r("section",{staticClass:"px-4"},[r("section-title",[e._v("發票開立資訊")]),e._v(" "),r("div",{staticClass:"\n        option\n        h-16\n        flex\n        items-center\n        border-b border-secondary-gray-100\n        px-4\n      ",on:{click:function(t){e.editedData.carrierType=1}}},[r("label",[r("v-radio",{attrs:{checked:1===e.editedData.carrierType}}),e._v(" "),r("span",{staticClass:"ml-4"},[e._v("儲存至會員條碼")])],1)]),e._v(" "),r("form",{on:{submit:function(e){e.preventDefault()},input:function(t){return e.onFormChanged()}}},[r("accordion",{attrs:{expand:2===e.editedData.carrierType,radio:!0,label:"儲存至手機條碼"},on:{click:function(t){e.editedData.carrierType=2}}},[r("v-input",{staticClass:"w-full",attrs:{placeholder:"請輸入手機號碼"}})],1),e._v(" "),r("accordion",{attrs:{expand:3===e.editedData.carrierType,radio:!0,label:"儲存於自然人憑證"},on:{click:function(t){e.editedData.carrierType=3}}},[r("v-input",{staticClass:"w-full",attrs:{placeholder:"請輸入自然人憑證卡號"}})],1),e._v(" "),r("accordion",{attrs:{expand:4===e.editedData.carrierType,radio:!0,label:"捐贈碼"},on:{click:function(t){e.editedData.carrierType=4}}},[r("v-input",{staticClass:"w-full",attrs:{placeholder:"請輸入捐贈碼"},model:{value:e.editedData.donationCode,callback:function(t){e.$set(e.editedData,"donationCode",t)},expression:"editedData.donationCode"}})],1),e._v(" "),r("accordion",{attrs:{expand:5===e.editedData.carrierType,radio:!0,label:"統編資訊"},on:{click:function(t){e.editedData.carrierType=5}}},[r("v-input-group",{attrs:{label:"統一編號"}},[r("v-input",{attrs:{placeholder:"請輸入統一編號"},model:{value:e.editedData.companyId,callback:function(t){e.$set(e.editedData,"companyId",t)},expression:"editedData.companyId"}})],1),e._v(" "),r("v-input-group",{attrs:{label:"發票抬頭"}},[r("v-input",{attrs:{placeholder:"請輸入發票抬頭"},model:{value:e.editedData.company_title,callback:function(t){e.$set(e.editedData,"company_title",t)},expression:"editedData.company_title"}})],1),e._v(" "),r("v-input-group",{attrs:{label:"收取發票之Email"}},[r("v-input",{attrs:{placeholder:"請輸入Email地址"},model:{value:e.editedData.companyEmail,callback:function(t){e.$set(e.editedData,"companyEmail",t)},expression:"editedData.companyEmail"}})],1)],1)],1)],1),e._v(" "),r("section",{staticClass:"terms my-6 px-4"},[r("section-title",[e._v("權益與條款")]),e._v(" "),r("div",{staticClass:"wrapper flex flex-col gap-2"},[r("div",{staticClass:"\n          px-4\n          py-6\n          bg-secondary-gray-100\n          overflow-scroll\n          h-60\n          rounded-lg\n        "},[r("p",{staticClass:"break-words",domProps:{innerHTML:e._s(e.terms)}})]),e._v(" "),r("label",{staticClass:"flex items-center gap-2",attrs:{for:"group-term"}},[r("v-checkbox",{ref:"termApproval",attrs:{id:"group-term",name:"term-approval",required:""},model:{value:e.editedData.termsConfirmed,callback:function(t){e.$set(e.editedData,"termsConfirmed",t)},expression:"editedData.termsConfirmed"}}),e._v(" "),r("span",{staticClass:"text-sm"},[e._v("我已閱讀並同意會員權益聲明與隱私權網站使用條款")])],1)])],1),e._v(" "),r("section",{staticClass:"px-4"}),e._v(" "),r("section",{staticClass:"px-4 my-6"},[r("div",{staticClass:"order-info px-4 mb-4"},[r("div",{staticClass:"wrapper grid grid-cols-2 gap-2"},[r("div",{staticClass:"title text-secondary-gray-400"},[e._v("\n          一份"+e._s(e.productOrderCurrent.pieces)+"入\n        ")]),e._v(" "),r("div",{staticClass:"content justify-self-end"},[e._v("\n          NT$ "+e._s(e.productOrderCurrent.price)+"\n        ")]),e._v(" "),r("div",{staticClass:"title text-secondary-gray-400"},[e._v("運費")]),e._v(" "),r("div",{staticClass:"content justify-self-end"},[e._v("NT$ 999")]),e._v(" "),r("div",{staticClass:"title text-secondary-gray-400"},[e._v("總金額")]),e._v(" "),r("div",{staticClass:"content justify-self-end text-secondary-money-600 font-bold"},[e._v("\n          NT$599\n        ")])])]),e._v(" "),r("v-button-md",{staticClass:"w-full",attrs:{disabled:!e.editedData.termsConfirmed},on:{click:function(t){return e.onSubmitted()}}},[e._v("方案確認")])],1)])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"shipping-fee flex items-center gap-1 text-sm"},[e._v("\n            運費"),r("span",{staticClass:"text-xl font-bold"},[e._v("$0")])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{SectionTitle:r(314).default,Accordion:r(334).default})}}]);