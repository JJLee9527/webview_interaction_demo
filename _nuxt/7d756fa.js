(window.webpackJsonp=window.webpackJsonp||[]).push([[26,11,12],{304:function(t,e,n){"use strict";var r=n(15),o=n(6),c=n(91),l=n(23),d=n(16),f=n(50),v=n(210),h=n(68),m=n(5),w=n(57),_=n(69).f,x=n(41).f,C=n(22).f,y=n(306).trim,O="Number",I=o.Number,k=I.prototype,P=f(w(k))==O,N=function(t){var e,n,r,o,c,l,d,code,f=h(t,!1);if("string"==typeof f&&f.length>2)if(43===(e=(f=y(f)).charCodeAt(0))||45===e){if(88===(n=f.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(f.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+f}for(l=(c=f.slice(2)).length,d=0;d<l;d++)if((code=c.charCodeAt(d))<48||code>o)return NaN;return parseInt(c,r)}return+f};if(c(O,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var j,S=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof S&&(P?m((function(){k.valueOf.call(n)})):f(n)!=O)?v(new I(N(e)),n,S):N(e)},E=r?_(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),$=0;E.length>$;$++)d(I,j=E[$])&&!d(S,j)&&C(S,j,x(I,j));S.prototype=k,k.constructor=S,l(o,O,S)}},306:function(t,e,n){var r=n(26),o="["+n(307)+"]",c=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),d=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(c,"")),2&t&&(n=n.replace(l,"")),n}};t.exports={start:d(1),end:d(2),trim:d(3)}},307:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},308:function(t,e,n){"use strict";var r=n(3),o=n(70).find,c=n(141),l="find",d=!0;l in[]&&Array(1).find((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},312:function(t,e,n){var content=n(319);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(48).default)("090c0fef",content,!0,{sourceMap:!1})},318:function(t,e,n){"use strict";n(312)},319:function(t,e,n){var r=n(47)((function(i){return i[1]}));r.push([t.i,".swiper-container{\n  overflow:hidden\n}\n.swiper-pagination-bullet{\n  height:0.25rem;\n  width:1rem;\n  border-radius:0.125rem;\n  background-color:var(--secondary---indigo10);\n  opacity:0.8\n}\n.swiper-pagination-bullet-active{\n  background-color:var(--secondary---indigo80)\n}",""]),r.locals={},t.exports=r},323:function(t,e,n){"use strict";n.r(e);var r={props:{images:{type:Array,required:!0,default:function(){return[]}},pagination:{type:Boolean,required:!1,default:!1}},data:function(){return{imageSwiperOptions:{loop:!0,slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(t,e){return"<span class="+e+"></span>"}}}}},computed:{imageSwiper:function(){return this.$refs.imageSwiper.$swiper}}},o=(n(318),n(12)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"relative"},[n("swiper",{ref:"imageSwiper",attrs:{options:t.imageSwiperOptions}},[t._l(t.images,(function(image,t){return n("swiper-slide",{key:t},[n("div",{staticClass:"img-container w-full pt-10/10 relative"},[n("img",{staticClass:"absolute top-0 left-0 w-full h-full object-contain",attrs:{src:image,alt:""}})])])})),t._v(" "),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],2)],1)}),[],!1,null,null,null);e.default=component.exports},324:function(t,e,n){"use strict";n.r(e);n(304);var r={props:{storeName:{type:String,required:!1,default:function(){return"未知門市"}},storeCode:{type:String,required:!1,default:function(){return"0000"}},bundleCondition:{type:Number,required:!0,default:function(){return 0}},bundleAmountLeft:{type:Number,required:!0,default:function(){return 0}},bundleEndTime:{type:String,required:!0,default:""},name:{type:String,required:!1,default:function(){return"團爸媽"}},sales:{type:String||XMLDocument,required:!1,default:function(){return""}},showButton:{type:Boolean,required:!1,default:!1},photo:{type:String||Object,required:!1,default:function(){return null}},follow:{type:Boolean,required:!1,default:!1}},data:function(){return{finish:!1}},computed:{},mounted:function(){},methods:{onButtonClicked:function(){this.$emit("click")},onFinished:function(){this.finish=!0,this.$emit("finish",!0)}}},o=n(12),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-flat",[n("div",{staticClass:"wrapper flex gap-4 items-start"},[n("div",{staticClass:"initiator flex flex-col items-center gap-2 px-2"},[n("div",{staticClass:"photo relative"},[n("div",{staticClass:"\n            img-container\n            w-14\n            h-14\n            relative\n            rounded-full\n            overflow-hidden\n          "},[n("img",{staticClass:"absolute top-0 left-0 w-full h-full object-cover",attrs:{src:null!==t.photo?t.photo:"/assets/img/demo-photo.png",alt:""}})]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.follow,expression:"follow"}],staticClass:"\n            w-4\n            h-4\n            bg-white\n            rounded-2xl\n            shadow-lv1\n            absolute\n            right-0\n            bottom-0\n            flex\n            justify-center\n            items-center\n          "},[n("svg",{attrs:{width:"10",height:"10",viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M1.39273 3.24079C1.48696 3.01331 1.62507 2.80661 1.79918 2.6325C1.97329 2.45838 2.17999 2.32027 2.40748 2.22604C2.63497 2.13181 2.87879 2.08331 3.12502 2.08331C3.37125 2.08331 3.61507 2.13181 3.84255 2.22604C4.07004 2.32027 4.27674 2.45838 4.45085 2.6325L5.00002 3.18166L5.54918 2.6325C5.90082 2.28086 6.37773 2.08332 6.87502 2.08332C7.3723 2.08332 7.84922 2.28086 8.20085 2.6325C8.55248 2.98413 8.75003 3.46105 8.75003 3.95833C8.75003 4.45561 8.55248 4.93253 8.20085 5.28416L5.00002 8.48499L1.79918 5.28416C1.62507 5.11005 1.48696 4.90335 1.39273 4.67587C1.2985 4.44838 1.25 4.20456 1.25 3.95833C1.25 3.7121 1.2985 3.46828 1.39273 3.24079Z",fill:"#28379B",stroke:"#28379B","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),t._v(" "),n("div",{staticClass:"\n          name\n          text-sm text-secondary-gray-500 text-center\n          whitespace-pre-line\n        "},[t._v("\n        "+t._s(t.name)+"\n      ")])]),t._v(" "),n("div",{staticClass:"content flex flex-col gap-2 flex-grow"},[n("div",{staticClass:"head flex items-center justify-between text-sm"},[n("div",{staticClass:"store text-secondary-indigo-800"},[t._v("\n          "+t._s(t.storeCode)+" "+t._s(t.storeName)+"\n        ")]),t._v(" "),""!==t.bundleEndTime?n("div",{staticClass:"count-down flex items-center justify-between gap-2"},[n("i",{staticClass:"text-secondary-gray-800 icon-clock text-lg"}),t._v(" "),n("countdown",{staticClass:"flex-shrink-0",attrs:{"end-time":new Date(t.bundleEndTime)},on:{finish:function(e){return t.onFinished()}},scopedSlots:t._u([{key:"process",fn:function(e){var r=e.timeObj;return n("span",{},[n("span",{directives:[{name:"show",rawName:"v-show",value:r.d>0,expression:"timeObj.d > 0"}],staticClass:"day"},[t._v(t._s(r.d)+" 天 ")]),t._v(t._s(r.h)+" 時 "+t._s(r.m)+" 分\n            ")])}}],null,!1,2468349450)},[t._v(" "),n("span",{attrs:{slot:"finish"},slot:"finish"},[t._v("已截止")])])],1):t._e()]),t._v(" "),n("div",{staticClass:"body"},[n("div",{staticClass:"sales text-secondary-500 text-sm whitespace-pre-line"},[t._v("\n          "+t._s(t.sales)+"\n        ")])]),t._v(" "),n("div",{staticClass:"footer"},[n("div",{staticClass:"\n            wrapper\n            flex\n            items-center\n            justify-between\n            gap-4\n            text-secondary-gray-500 text-sm\n          "},[n("div",{staticClass:"info"},[t._v("\n            "+t._s(t.bundleCondition)+" 份開團，離滿團尚有"),n("span",{staticClass:"text-secondary-orange-600 mx-1"},[t._v(t._s(t.bundleAmountLeft))]),t._v("份\n          ")]),t._v(" "),n("v-button",{directives:[{name:"show",rawName:"v-show",value:!t.finish&&t.showButton,expression:"!finish && showButton"}],staticClass:"\n              bg-gradient-to-r\n              from-gradient-blue-start\n              to-gradient-blue-end\n              text-xs text-white\n              border border-secondary-indigo-500\n              h-8\n              px-4\n              flex-shrink-0\n              rounded-md\n            ",on:{click:t.onButtonClicked}},[t._v("立即參與")])],1)])])])])}),[],!1,null,null,null);e.default=component.exports},329:function(t,e,n){var content=n(339);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(48).default)("77907c74",content,!0,{sourceMap:!1})},338:function(t,e,n){"use strict";n(329)},339:function(t,e,n){var r=n(47)((function(i){return i[1]}));r.push([t.i,".swiper-container{\n  overflow:visible\n}\n.swiper-slide{\n  width:auto\n}",""]),r.locals={},t.exports=r},358:function(t,e,n){"use strict";n.r(e);n(21),n(14),n(18),n(29),n(19),n(30);var r=n(11),o=n(7),c=(n(58),n(35),n(308),n(31));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={data:function(){return{pageTitle:"",activeIndex:0,tabs:[{name:"即將成團",value:0},{name:"即將截止",value:1},{name:"鄰近門市",value:2},{name:"我的最愛",value:3}],tabSwiperOptions:{loop:!1,slidesPerView:"auto",spaceBetween:8},tabContent:[],errorMessege:null,product:{},productId:void 0,productOrders:[]}},head:function(){return{title:this.product.product_name,meta:[{hid:this.$route.name,name:this.product.product_name,content:"description"}]}},computed:d(d({},Object(c.d)("groups",["groupListProducts","groupListCategories"])),{},{currentTab:function(){return"tab-".concat(this.activeIndex)},tabSwiper:function(){return this.$refs.tabSwiper.$swiper}}),components:{},created:function(){this.setProduct()},mounted:function(){},methods:d(d({},Object(c.b)("groups",["getListProducts","getProductOrders"])),{},{fetchProducts:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getListProducts().then((function(e){t.filterProduct(e,t.productId)}));case 2:console.log("fetched data"),t.getOrders();case 4:case"end":return e.stop()}}),e)})))()},setProductId:function(){this.productId=this.$route.params.gid},setProduct:function(){var t=this;this.setProductId(),this.groupListProducts.length<=0?this.getListProducts().then((function(e){t.filterProduct(e,t.productId)})):(this.filterProduct(this.groupListProducts,this.productId),this.getOrders(),this.$setNavbarNew(this.product.product_name))},getOrders:function(){var t=this;void 0!==this.product&&this.getProductOrders({productId:this.productId,sortCondition:this.activeIndex+1}).then((function(e){t.productOrders=e})).catch((function(t){console.log(t)}))},onTabClicked:function(t){switch(this.activeIndex=t,!0){case 0===this.activeIndex:case 1===this.activeIndex:this.getOrders();break;case 2===this.activeIndex:case 3===this.activeIndex:this.productOrders=[]}},onParticipateClicked:function(t){this.$router.push("/groups/"+this.$route.params.gid+"/detail/"+t)},filterProduct:function(t,e){var n=t.find((function(t){return t.product_id===e}));switch(!0){case null==n:this.$router.push("/groups");break;default:this.product=n}}})},v=(n(338),n(12)),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("parts-image-swiper",{staticClass:"w-full",attrs:{images:t.product.pic_list}}),t._v(" "),t.product?n("section",{staticClass:"info px-4 pt-6 flex flex-col overflow-visible"},[n("div",{staticClass:"title font-bold text-2xl mb-2"},[t._v("\n      "+t._s(t.product.product_name||"...")+"\n    ")]),t._v(" "),n("div",{staticClass:"session mb-2"},[t._v("\n      團購檔期: "+t._s(t.product.sales_start_time)+" - "+t._s(t.product.sales_end_time)+"\n    ")]),t._v(" "),n("div",{staticClass:"feature text-sm text-secondary-gray-500 mb-2 whitespace-pre-line"},[t._v("\n      "+t._s(t.product.sales_focus)+"\n    ")]),t._v(" "),n("div",{staticClass:"price flex items-center gap-1"},[n("div",{staticClass:"ori-price line-through font-medium text-secondary-gray-500"},[t._v("\n        NT$ "+t._s(t.product.original_price||0)+"\n      ")]),t._v(" "),n("div",{staticClass:"new-price font-bold text-secondary-money-600"},[t._v("\n        NT$ "+t._s(t.product.price||0)+"\n      ")])])]):t._e(),t._v(" "),n("section",{staticClass:"px-4 mt-8"},[n("div",{staticClass:"title text-xl font-bold"},[t._v("選擇跟團")]),t._v(" "),n("div",{staticClass:"pt-4 tabs mb-base"},[n("swiper",{ref:"tabSwiper",attrs:{options:t.tabSwiperOptions}},t._l(t.tabs,(function(e,r){return n("swiper-slide",{key:r},[n("v-pill",{staticClass:"tab",attrs:{variant:{active:r===t.activeIndex}},on:{click:function(e){return t.onTabClicked(r)}}},[t._v("\n            "+t._s(e.name)+"\n          ")])],1)})),1)],1),t._v(" "),n("div",{staticClass:"tab-content"},[n("div",{staticClass:"list flex flex-col"},t._l(t.productOrders,(function(e,r){return n("parts-initiator-card",{key:"initiator-"+r,staticClass:"w-full",attrs:{name:e.nick_name,photo:e.picture,"store-name":e.store_name,"store-code":e.store_code,"bundle-end-time":e.end_time,"bundle-amount-left":e.remain_quantity,"bundle-condition":e.quantity_condition,"show-button":!0},on:{click:function(n){return t.onParticipateClicked(e.group_order_id)}}})})),1)])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PartsImageSwiper:n(323).default,PartsInitiatorCard:n(324).default})}}]);