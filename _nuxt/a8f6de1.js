(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{270:function(t,e,n){var content=n(275);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(53).default)("4e102ba0",content,!0,{sourceMap:!1})},273:function(t,e,n){t.exports=n.p+"img/bird.935c784.png"},274:function(t,e,n){"use strict";n(270)},275:function(t,e,n){var o=n(52)((function(i){return i[1]}));o.push([t.i,"canvas{\n  height:360px;\n  width:360px;\n  position:relative;\n  left:50%;\n  transform:translateX(-50%)\n}",""]),o.locals={},t.exports=o},283:function(t,e,n){"use strict";n.r(e);var o={components:{},data:function(){return{userOS:"",displayMessage:"",birdX:0,birdY:160,birdDy:0,birdSize:24,interval:1e3/24,canvasSize:360,pipeX:200,pipeDx:5,pipeWidth:24,pipeGap:200,topPipeBottomY:0,score:0,bestScore:0,gameOn:!1}},computed:{},created:function(){this.checkOS()},mounted:function(){},methods:{setupWKWebViewJavascriptBridge:function(t){return window.WKWebViewJavascriptBridge?t(WKWebViewJavascriptBridge):window.WKWVJBCallbacks?window.WKWVJBCallbacks.push(t):(window.WKWVJBCallbacks=[t],void window.webkit.messageHandlers.iOS_Native_InjectJavascript.postMessage(null))},onLeaveApp:function(){switch(!0){case"Android"===this.userOS:window.pxpayWeb.closeWebView();break;case"iOS"===this.userOS:this.setupWKWebViewJavascriptBridge((function(t){t.callHandler("closeWebView")}));break;default:this.displayMessage="Not both, no move",console.log("Not both, no move")}},shareMessage:function(){switch(!0){case"Android"===this.userOS:window.pxpayWeb.shareMessage("測試分享文字");break;case"iOS"===this.userOS:this.setupWKWebViewJavascriptBridge((function(t){t.callHandler("shareMessage",{message:"測試分享文字"})}));break;default:this.displayMessage="Not both, no move",console.log("Not both, no move")}},switchTabBar:function(){switch(!0){case"Android"===this.userOS:break;case"iOS"===this.userOS:this.setupWKWebViewJavascriptBridge((function(t){t.callHandler("switchTabBar",{status:!1})}));break;default:this.displayMessage="Not both, no move",console.log("Not both, no move")}},getLocation:function(){switch(!0){case"Android"===this.userOS:window.pxpayWeb.getLoaction();break;case"iOS"===this.userOS:this.setupWKWebViewJavascriptBridge((function(t){t.callHandler("getLoaction")}));break;default:this.displayMessage="Not both, no move",console.log("Not both, no move")}},putLocation:function(){var t=this;switch(!0){case"Android"===this.userOS:window.pxpayWeb.putLoaction((function(e){t.displayMessage=e,console.log("put location:",e)}));break;case"iOS"===this.userOS:this.setupWKWebViewJavascriptBridge((function(e){e.callHandler("getLoaction",null,(function(e){t.displayMessage=e,console.log("put location:",e)}))}));break;default:this.displayMessage="Not both, no move",console.log("Not both, no move")}},startPayment:function(){switch(!0){case"Android"===this.userOS:window.pxpayWeb.startPayment();break;case"iOS"===this.userOS:this.setupWKWebViewJavascriptBridge((function(t){t.callHandler("startPayment",{transactionId:"123456"})}));break;default:console.log("Not both, no move")}},getPayload:function(){var t=this;switch(!0){case"Android"===this.userOS:window.pxpayWeb.getPayload((function(e){t.displayMessage=e,console.log("payload:",e)}));break;case"iOS"===this.userOS:this.setupWKWebViewJavascriptBridge((function(e){e.callHandler("getPayload",null,(function(e){t.displayMessage=e,console.log("payload:",e)}))}));break;default:console.log("Not both, no move")}},checkOS:function(){var t=navigator.userAgent;return/android/i.test(t)?(this.userOS="Android",console.log("OS:",this.userOS),"Android"):/iPad|iPhone|iPod/.test(t)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?(this.userOS="iOS",console.log("OS:",this.userOS),"iOS"):(console.log("OS:",this.userOS),"Other")},initCanvas:function(){this.canvas=this.$refs.blueBird,this.canvasContext=this.canvas.getContext("2d"),this.bird=new Image,this.bird.src=n(273),this.drawStartBox()},gameInit:function(){var t=this;this.gameOn=!this.gameOn,this.gameOn?this.birdDy=5:this.gameOn||(this.gameOn=!0,window.requestAnimationFrame((function(){return t.draw()})))},drawStartBox:function(){this.canvasContext.fillStyle="skyblue",this.canvasContext.fillRect(0,0,this.canvasSize,this.canvasSize),this.canvasContext.fillStyle="black",this.canvasContext.fillRect(100,100,200,200),this.canvasContext.fillStyle="white",this.canvasContext.font="20pt Arial",this.canvasContext.textAlign="center",this.canvasContext.fillText("Start",200,200),this.canvasContext.font="12pt Arial",this.canvasContext.fillText("Best Score: "+this.bestScore,200,240)},draw:function(){var t=this;this.canvasContext.fillStyle="skyblue",this.canvasContext.fillRect(0,0,this.canvasSize,this.canvasSize),this.canvasContext.drawImage(this.bird,this.birdX,this.birdY,this.birdSize,this.birdSize),this.birdY-=this.birdDy-=.25,this.canvasContext.fillStyle="green",this.score>800&&(this.pipeDx=7),this.score>1200&&(this.pipeDx=9),this.pipeX-=this.pipeDx,this.pipeX<-this.pipeWidth&&(this.pipeX=this.canvasSize,this.topPipeBottomY=this.pipeGap*Math.random()),this.canvasContext.fillRect(this.pipeX,0,this.pipeWidth,this.topPipeBottomY),this.canvasContext.fillRect(this.pipeX,this.topPipeBottomY+this.pipeGap,this.pipeWidth,this.canvasSize),this.canvasContext.fillStyle="black",this.canvasContext.textAlign="left",this.canvasContext.font="14pt Arial",this.canvasContext.fillText(this.score++,9,25),this.canvasContext.font="10pt Arial",this.canvasContext.fillText("Best Score: "+this.bestScore,9,48),this.bestScore=this.bestScore<this.score?this.score:this.bestScore,this.birdY<this.topPipeBottomY||this.birdY>this.topPipeBottomY+this.pipeGap?this.pipeX<this.birdX+this.birdSize&&(this.gameOn=!1,this.birdDy=0,this.birdY=160,this.pipeX=this.canvasSize,this.score=0,this.gameOn=!1,window.requestAnimationFrame((function(){return t.drawStartBox()}))):this.birdY>this.canvasSize||this.birdY<0?(this.gameOn=!1,this.birdDy=0,this.birdY=160,this.pipeX=this.canvasSize,this.score=0,this.gameOn=!1,window.requestAnimationFrame((function(){return t.drawStartBox()}))):window.requestAnimationFrame((function(){return t.draw()}))}}},r=(n(274),n(13)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("parts-navbar",{attrs:{"entry-page":""},on:{leaveApp:t.onLeaveApp}},[t._v("測試頁面")]),t._v(" "),n("canvas",{ref:"blueBird",attrs:{width:"360",height:"360"},on:{click:function(e){return t.gameInit()}}}),t._v(" "),n("div",{staticClass:"grid grid-cols-2 gap-4"},[n("p",{staticClass:"col-span-2 text-center"},[t._v(t._s(t.displayMessage))]),t._v(" "),n("v-button",{staticClass:"rounded-lg text-sm px-4 py-2",attrs:{variant:"float"},on:{click:function(e){return t.startPayment()}}},[n("i",{staticClass:"h-10 flex items-center icon-badge-check mr-2"}),t._v("付款")]),t._v(" "),n("v-button",{staticClass:"rounded-lg text-sm px-4 py-2",attrs:{variant:"float"},on:{click:function(e){return t.shareMessage()}}},[n("i",{staticClass:"h-10 flex items-center icon-share mr-2"}),t._v("分享訊息")]),t._v(" "),n("v-button",{staticClass:"rounded-lg text-sm px-4 py-2",attrs:{variant:"float"},on:{click:function(e){return t.getLocation()}}},[n("i",{staticClass:"h-10 flex items-center icon-location-marker mr-2"}),t._v("觸發取位置")]),t._v(" "),n("v-button",{staticClass:"rounded-lg text-sm px-4 py-2",attrs:{variant:"float"},on:{click:function(e){return t.putLocation()}}},[n("i",{staticClass:"h-10 flex items-center icon-relocation mr-2"}),t._v("取得位置")]),t._v(" "),n("v-button",{staticClass:"rounded-lg text-sm px-4 py-2",attrs:{variant:"float"},on:{click:function(e){return t.getPayload()}}},[n("i",{staticClass:"h-10 flex items-center icon-cube-transparent mr-2"}),t._v("取得數位印花資訊")]),t._v(" "),n("v-button",{staticClass:"rounded-lg text-sm px-4 py-2",attrs:{variant:"float"},on:{click:function(e){return t.switchTabBar()}}},[n("i",{staticClass:"h-10 flex items-center icon-lock-closed mr-2"}),t._v("隱藏Tabbar(iOS)")])],1)],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{PartsNavbar:n(84).default})}}]);