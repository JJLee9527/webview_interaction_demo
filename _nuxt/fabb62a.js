(window.webpackJsonp=window.webpackJsonp||[]).push([[22,14],{321:function(e,t,r){"use strict";r.r(t);r(21),r(14),r(18),r(29),r(19),r(30);var n=r(11),o=r(7),c=(r(58),r(31));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={props:{},data:function(){return{showCities:!0,showAreas:!1,showStores:!1,cityPicked:"",areaPicked:"",storePicked:null}},computed:d({},Object(c.d)("store",{storeCities:"cities",storeAreas:"areas",storeStores:"stores"})),created:function(){this.citiesGet()},methods:d(d(d({},Object(c.c)("store",["setNewStore"])),Object(c.b)("store",["citiesGet","areasGet","storesGet"])),{},{cityClicked:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.cityPicked=e,r.next=3,t.areasGet(e);case 3:return r.next=5,t.$gsap.to(t.$refs.citySelection,{opacity:0,duration:.6,ease:"power2.inOut",onComplete:function(){t.showCities=!1}});case 5:t.showAreas=!0,t.$nextTick((function(){t.$gsap.to(t.$refs.areaSelection,{opacity:100,duration:.6,ease:"power2.inOut"})}));case 7:case"end":return r.stop()}}),r)})))()},areaClicked:function(area){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.areaPicked=area,r={city:e.cityPicked,area:e.areaPicked},t.next=4,e.storesGet(r);case 4:return t.next=6,e.$gsap.to(e.$refs.areaSelection,{opacity:0,duration:.6,ease:"power2.inOut",onComplete:function(){e.showAreas=!1}});case 6:e.showStores=!0,e.$nextTick((function(){e.$gsap.to(e.$refs.storeSelection,{opacity:100,duration:.6,ease:"power2.inOut"})}));case 8:case"end":return t.stop()}}),t)})))()},storeClicked:function(e){this.storePicked=e,console.log(e)},onSubmitted:function(){this.setNewStore(this.storePicked),this.$emit("selected",this.storePicked)}})},f=r(12),component=Object(f.a)(v,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"store-selection-panel"},[r("section",{staticClass:"breadcrumb mb-4"},[r("div",{staticClass:"wrapper flex gap-2 items-center text-sm"},[r("v-button",{staticClass:"city-label",class:{"text-secondary-indigo-800":e.showCities,"text-secondary-indigo-300":!e.showCities,"text-underline":!e.showCities},attrs:{variant:"transparent"},on:{click:function(){e.showCities=!0,e.showAreas=!1,e.showStores=!1,e.areaPicked="",e.storePicked={},e.cityPicked=""}}},[e._v("\n        選擇縣市\n      ")]),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showCities,expression:"!showCities"}],staticClass:"partition flex items-center gap-2"},[e._m(0),e._v(" "),r("v-button",{staticClass:"area-label",class:{"text-secondary-indigo-800":e.showAreas,"text-secondary-indigo-300":!e.showAreas,"text-underline":!e.showAreas},attrs:{variant:"transparent"},on:{click:function(){e.showAreas=!0,e.showStores=!1,e.areaPicked=""}}},[e._v("\n          選擇區域\n        ")])],1),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.showCities&&!e.showAreas,expression:"!showCities && !showAreas"}],staticClass:"partition flex items-center gap-2"},[e._m(1),e._v(" "),r("v-button",{staticClass:"area-label",class:{"text-secondary-indigo-800":e.showStores,"text-secondary-indigo-300":!e.showStores,"text-underline":!e.showStores},attrs:{variant:"transparent"}},[e._v("\n          選擇門市\n        ")])],1)],1)]),e._v(" "),e.showCities?r("section",{staticClass:"city-selection"},[r("div",{ref:"citySelection",staticClass:"wrapper grid grid-cols-3 gap-4"},e._l(e.storeCities,(function(t,n){return r("v-button",{key:"city"+n,staticClass:"h-12 text-secondary-gray-800",attrs:{variant:"float"},on:{click:function(r){return e.cityClicked(t)}}},[e._v(e._s(t))])})),1)]):e._e(),e._v(" "),e.showAreas?r("section",{staticClass:"area-selection"},[r("div",{ref:"areaSelection",staticClass:"wrapper grid grid-cols-3 gap-4 opacity-0"},e._l(e.storeAreas,(function(area,t){return r("v-button",{key:"area"+t,staticClass:"h-12",attrs:{variant:"float"},on:{click:function(t){return e.areaClicked(area)}}},[e._v(e._s(area))])})),1)]):e._e(),e._v(" "),e.showStores?r("section",{staticClass:"store-selection mb-20"},[r("div",{ref:"storeSelection",staticClass:"wrapper flex flex-col w-full gap-0 opacity-0"},e._l(e.storeStores,(function(t,n){return r("v-card-flat",{key:"store"+n},[r("label",{staticClass:"wrapper flex flex-row items-center px-4",on:{click:function(r){return e.storeClicked(t)}}},[r("v-radio",{attrs:{name:"options",value:n}}),e._v(" "),r("div",{staticClass:"content ml-4"},[r("div",{staticClass:"name text-xl font-bold text-secondary-gray-800"},[e._v("\n              "+e._s(t.name)+"\n            ")]),e._v(" "),r("div",{staticClass:"address text-sm text-secondary-gray-400"},[e._v("\n              "+e._s(t.address)+"\n            ")])])],1)])})),1)]):e._e(),e._v(" "),r("section",{staticClass:"actions p-4 mt-6 fixed bottom-0 left-0 w-full shadow-lv1 bg-white"},[r("v-button-md",{directives:[{name:"show",rawName:"v-show",value:e.showStores,expression:"showStores"}],staticClass:"w-full",attrs:{disabled:null===e.storePicked},on:{click:function(t){return e.onSubmitted()}}},[e._v("確認送出")])],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"icon-chevron-right"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("i",{staticClass:"icon-chevron-right"})])}],!1,null,null,null);t.default=component.exports},364:function(e,t,r){"use strict";r.r(t);r(21),r(14),r(18),r(29),r(19),r(30);var n=r(7),o=(r(35),r(31));function c(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var d={data:function(){return{pageTitle:"新增門市",storePicked:null,editedData:{recipient_name:void 0,recipient_tel:void 0},showSelectPanel:!0}},computed:l(l({},Object(o.d)("store",["storeSelected"])),{},{validateForm:function(){return void 0!==this.editedData.recipient_name&&void 0!==this.editedData.recipient_tel}}),created:function(){},methods:l(l(l({},Object(o.b)("member",["addMemberAttentions"])),Object(o.c)("member",["pushStoreRecipient"])),{},{validateStoreSelection:function(){},onStoreSelected:function(){this.storePicked=this.storeSelected,this.showSelectPanel=!1},onReselectClicked:function(){this.showSelectPanel=!0},onSubmitted:function(){var e={receiver:this.editedData.recipient_name,cell_phone:this.editedData.recipient_tel,store_code:this.storePicked.store_number,store_name:this.storePicked.name,address:this.storePicked.address};this.pushStoreRecipient(e),this.$router.push("/groups/"+this.$route.params.gid+"/confirm/delivery/store")}})},v=r(12),component=Object(v.a)(d,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper px-4"},[!0===e.showSelectPanel?r("section",{staticClass:"my-6"},[r("parts-store-selection",{on:{selected:function(t){return e.onStoreSelected()}}})],1):r("section",{staticClass:"content-info my-6"},[r("div",{staticClass:"content"},[r("v-input-group",{attrs:{label:"收件人姓名"}},[r("v-input",{attrs:{placeholder:"請輸入與身分證相符之真實姓名",type:"text"},model:{value:e.editedData.recipient_name,callback:function(t){e.$set(e.editedData,"recipient_name",t)},expression:"editedData.recipient_name"}})],1),e._v(" "),r("v-input-group",{attrs:{label:"收件人手機"}},[r("v-input",{attrs:{placeholder:"接收到貨通知之手機號碼",type:"tel"},model:{value:e.editedData.recipient_tel,callback:function(t){e.$set(e.editedData,"recipient_tel",t)},expression:"editedData.recipient_tel"}})],1),e._v(" "),r("v-card-flat",[r("div",{staticClass:"content ml-4"},[r("div",{staticClass:"label text-xs text-secondary-gray-500"},[e._v("所選門市")]),e._v(" "),r("div",{staticClass:"name text-xl font-bold text-secondary-gray-800"},[e._v("\n            "+e._s(e.storePicked.name?e.storePicked.name:"")+"\n          ")]),e._v(" "),r("div",{staticClass:"address text-sm text-secondary-gray-400"},[e._v("\n            "+e._s(e.storePicked.address?e.storePicked.address:"")+"\n          ")])])]),e._v(" "),r("v-button-md",{staticClass:"w-full mt-4 flex flex-row justify-center items-center",attrs:{variant:"outlined"},on:{click:function(t){return e.onReselectClicked()}}},[r("i",{staticClass:"icon icon-refresh text-2xl mr-2"}),e._v("\n        變更門市\n      ")]),e._v(" "),r("v-tip",[e._v("退貨門市須與取貨門市相同")])],1),e._v(" "),r("div",{staticClass:"w-full bg-white flex"},[r("v-button-md",{staticClass:"w-full",attrs:{disabled:!e.validateForm},on:{click:function(t){return e.onSubmitted()}}},[e._v("確認新增")])],1)])])}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PartsStoreSelection:r(321).default})}}]);